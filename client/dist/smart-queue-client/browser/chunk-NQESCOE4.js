import{f as S}from"./chunk-BQ55YN6H.js";import{a as M}from"./chunk-7DKX7YV7.js";import{a as b}from"./chunk-75PX6TYH.js";import{$a as t,Bb as v,Ia as d,Na as x,Oa as u,Qa as p,Ra as g,Sa as n,Ta as e,Xa as f,Y as _,ab as l,bb as h,hb as C,ua as a,va as m}from"./chunk-FUL3TK4O.js";var O=(o,r)=>r._id;function P(o,r){if(o&1&&(n(0,"div",14)(1,"div",15),t(2),e(),n(3,"div",16)(4,"span",5),t(5,"meeting_room"),e(),t(6),e()()),o&2){let i=r.$implicit;a(2),l(i.ticketNumber),a(4),h(" Guichet ",i.counterNumber||"-"," ")}}function E(o,r){if(o&1&&(n(0,"div",8),p(1,P,7,2,"div",14,O),e()),o&2){let i=f();a(),g(i.queueStatus.nowServing)}}function k(o,r){o&1&&(n(0,"p",17),t(1,"Aucun ticket en cours de service"),e())}function y(o,r){if(o&1&&(n(0,"div",18)(1,"span",19),t(2),e(),n(3,"span",20),t(4),e(),n(5,"span"),t(6),e()()),o&2){let i=r.$implicit,c=r.$index;a(2),l(c+1),a(2),l(i.ticketNumber),a(),x("service badge badge-",i.serviceType,""),a(),l(i.serviceType)}}function w(o,r){if(o&1&&(n(0,"div",10),p(1,y,7,6,"div",18,O),e()),o&2){let i=f();a(),g(i.queueStatus.nextInQueue.slice(0,5))}}function I(o,r){o&1&&(n(0,"p",17),t(1,"Aucun ticket en attente"),e())}var j=(()=>{class o{constructor(i,c){this.statsService=i,this.socketService=c,this.queueStatus=null,this.subscriptions=[]}ngOnInit(){this.loadQueueStatus(),this.subscriptions.push(this.socketService.onTicketCalled().subscribe(()=>this.loadQueueStatus()),this.socketService.onTicketUpdated().subscribe(()=>this.loadQueueStatus()),this.socketService.onTicketCreated().subscribe(()=>this.loadQueueStatus()));let i=setInterval(()=>this.loadQueueStatus(),3e4);this.subscriptions.push({unsubscribe:()=>clearInterval(i)})}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}loadQueueStatus(){this.statsService.getQueueStatus().subscribe({next:i=>{i.success&&i.data&&(this.queueStatus=i.data)}})}static{this.\u0275fac=function(c){return new(c||o)(m(M),m(b))}}static{this.\u0275cmp=_({type:o,selectors:[["app-home"]],standalone:!0,features:[C],decls:55,vars:2,consts:[[1,"home-page"],[1,"hero"],[1,"hero-content"],[1,"hero-actions"],["routerLink","/create-ticket",1,"btn","btn-primary","btn-lg"],[1,"material-icons"],["routerLink","/ticket-status",1,"btn","btn-outline","btn-lg"],[1,"queue-display","card"],[1,"serving-list"],[1,"waiting-display","card"],[1,"waiting-list"],[1,"features"],[1,"grid","grid-3"],[1,"feature-card"],[1,"serving-item"],[1,"ticket-number"],[1,"counter"],[1,"no-data"],[1,"waiting-item"],[1,"position"],[1,"ticket"]],template:function(c,s){c&1&&(n(0,"div",0)(1,"section",1)(2,"div",2)(3,"h1"),t(4,"Bienvenue chez Smart Queue"),e(),n(5,"p"),t(6,"Syst\xE8me de gestion intelligente des files d'attente pour un service optimal"),e(),n(7,"div",3)(8,"a",4)(9,"span",5),t(10,"add_circle"),e(),t(11," Prendre un Ticket "),e(),n(12,"a",6)(13,"span",5),t(14,"search"),e(),t(15," Suivre mon Ticket "),e()()()(),n(16,"section",7)(17,"h2")(18,"span",5),t(19,"campaign"),e(),t(20," En cours de service "),e(),d(21,E,3,0,"div",8)(22,k,2,0),e(),n(23,"section",9)(24,"h2")(25,"span",5),t(26,"schedule"),e(),t(27," Prochains en attente "),e(),d(28,w,3,0,"div",10)(29,I,2,0),e(),n(30,"section",11)(31,"h2"),t(32,"Nos Services"),e(),n(33,"div",12)(34,"div",13)(35,"span",5),t(36,"account_balance"),e(),n(37,"h3"),t(38,"Gestion de Compte"),e(),n(39,"p"),t(40,"Ouverture, modification, consultation de compte"),e()(),n(41,"div",13)(42,"span",5),t(43,"payments"),e(),n(44,"h3"),t(45,"Cr\xE9dit & Pr\xEAt"),e(),n(46,"p"),t(47,"Demande de cr\xE9dit, simulation, suivi"),e()(),n(48,"div",13)(49,"span",5),t(50,"how_to_reg"),e(),n(51,"h3"),t(52,"Inscription"),e(),n(53,"p"),t(54,"Inscription aux services et programmes"),e()()()()()),c&2&&(a(21),u(21,!(s.queueStatus==null||s.queueStatus.nowServing==null)&&s.queueStatus.nowServing.length?21:22),a(7),u(28,!(s.queueStatus==null||s.queueStatus.nextInQueue==null)&&s.queueStatus.nextInQueue.length?28:29))},dependencies:[v,S],styles:[".home-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a365d,#2b6cb0);color:#fff;padding:4rem 2rem;border-radius:16px;text-align:center;margin-bottom:2rem}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;opacity:.9;margin-bottom:2rem}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.hero-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:200px}.hero-actions[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.hero-actions[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{background:#fff;color:#1a365d}.queue-display[_ngcontent-%COMP%], .waiting-display[_ngcontent-%COMP%]{margin-bottom:2rem}.queue-display[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .waiting-display[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;color:#1a365d}.serving-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.serving-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38a169,#2f855a);color:#fff;padding:1.5rem;border-radius:12px;text-align:center;animation:_ngcontent-%COMP%_pulse 2s infinite}.ticket-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.counter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem}.waiting-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.waiting-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f7fafc;border-radius:8px}.position[_ngcontent-%COMP%]{width:30px;height:30px;background:#1a365d;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600}.ticket[_ngcontent-%COMP%]{font-weight:600;font-size:1.25rem}.no-data[_ngcontent-%COMP%]{color:#718096;text-align:center;padding:2rem}.features[_ngcontent-%COMP%]{margin-top:3rem}.features[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#1a365d}.feature-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;text-align:center;box-shadow:0 1px 3px #0000001a}.feature-card[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:3rem;color:#2b6cb0;margin-bottom:1rem}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#1a365d}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}"]})}}return o})();export{j as HomeComponent};
